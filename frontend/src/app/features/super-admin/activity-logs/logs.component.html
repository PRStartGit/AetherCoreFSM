<div class="p-6 bg-gray-50 min-h-screen">
  <!-- Header -->
  <div class="mb-6">
    <h1 class="text-2xl font-bold text-gray-900">
      <i class="fa-solid fa-clock-rotate-left mr-2 text-cyan-600"></i>
      Activity Logs
    </h1>
    <p class="text-gray-600 mt-1">View system activity and audit logs</p>
  </div>

  <!-- Tabs -->
  <div class="bg-white rounded-xl shadow-sm mb-6">
    <div class="border-b border-gray-200">
      <nav class="flex flex-wrap -mb-px">
        <button *ngFor="let tab of tabs"
                (click)="setTab(tab.id)"
                [class.border-cyan-500]="activeTab === tab.id"
                [class.text-cyan-600]="activeTab === tab.id"
                [class.border-transparent]="activeTab !== tab.id"
                [class.text-gray-500]="activeTab !== tab.id"
                class="flex items-center gap-2 px-4 py-3 border-b-2 font-medium text-sm hover:text-cyan-600 hover:border-cyan-300 transition-colors">
          <i [class]="tab.icon"></i>
          <span class="hidden sm:inline">{{ tab.label }}</span>
        </button>
      </nav>
    </div>

    <!-- Filter Bar -->
    <div class="p-4 border-b border-gray-100 flex items-center justify-between flex-wrap gap-3">
      <div class="flex items-center gap-2">
        <span class="text-sm text-gray-600">Time period:</span>
        <select [(ngModel)]="days" (change)="loadLogs()"
                class="px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500">
          <option [value]="7">Last 7 days</option>
          <option [value]="30">Last 30 days</option>
          <option [value]="90">Last 90 days</option>
          <option [value]="365">Last year</option>
        </select>
      </div>
      <div class="text-sm text-gray-500">
        <span class="font-medium">{{ total }}</span> records found
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="p-8 text-center">
      <i class="fa-solid fa-spinner fa-spin text-2xl text-cyan-600"></i>
      <p class="mt-2 text-gray-500">Loading logs...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error" class="p-6 text-center">
      <div class="inline-flex items-center gap-2 text-red-600 bg-red-50 px-4 py-2 rounded-lg">
        <i class="fa-solid fa-exclamation-circle"></i>
        {{ error }}
      </div>
    </div>

    <!-- Logs Table -->
    <div *ngIf="!loading && !error" class="overflow-x-auto">
      <table class="w-full">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Type</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Message</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hidden md:table-cell">User</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hidden lg:table-cell">Organization</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Time</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100">
          <tr *ngFor="let log of logs" class="hover:bg-gray-50 transition-colors">
            <td class="px-4 py-3 whitespace-nowrap">
              <i [class]="getLogTypeIcon(log.log_type) + ' text-lg'"></i>
            </td>
            <td class="px-4 py-3">
              <div class="text-sm text-gray-900">{{ log.message }}</div>
              <div *ngIf="log.details" class="text-xs text-gray-500 mt-0.5 truncate max-w-xs">{{ log.details }}</div>
            </td>
            <td class="px-4 py-3 text-sm text-gray-600 hidden md:table-cell">
              {{ log.user_email || '-' }}
            </td>
            <td class="px-4 py-3 text-sm text-gray-600 hidden lg:table-cell">
              {{ log.organization_name || '-' }}
            </td>
            <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">
              {{ log.created_at | date:'dd/MM/yyyy HH:mm' }}
            </td>
          </tr>
          <tr *ngIf="logs.length === 0">
            <td colspan="5" class="px-4 py-8 text-center text-gray-500">
              <i class="fa-solid fa-inbox text-3xl mb-2"></i>
              <p>No logs found for this period</p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
